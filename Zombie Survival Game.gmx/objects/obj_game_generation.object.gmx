<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_game_generation</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>life = 1800/(instance_number(obj_game_generation)+1); //how long the generatoin is

dir_change = irandom(30)+10; //how long untill direction change

spd = 32; //grid width, the generator moves at 1 block per step, places blocks as it moves

rm_chance = 0; //chance to carve a room

rm_width = choose(2,3,4,5); //room width
rm_height = choose (2,3,4,5); //room height

flr = obj_house_floor ; //floor object
door = obj_house_door; //door object to move to next area

spawn_mod = 1; //so generators don't spawn on the same spot

spawn_chance = 1; //chance to spawn new generators

half_width = view_wview[1]/2;
half_height = view_hview[1]/2;

for (i=-3;i&lt;=3;i+=1) {
    for (j=-3;j&lt;-3;j+=1) {
        instance_create(x+(i*spd), y+(j*spd), flr);
    }
}

//generation!
dir = choose(0, 90, 180, 270) //choose direction to begin
motion_set(dir,spd); //start moving in direction at speed

alarm[0] = life; //once its reached the end of his life!!! HE WILL DIE.. by alarm 0 ^-^

alarm[1] = dir_change //when alarm 1 goes off, another direction will be chosen
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_number(obj_game_generation) = 1
   instance_create(x,y,door);
   scr_house_walls(flr,spd,obj_house_wall);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>dir = choose(0,90,180,270);
motion_set(dir,spd);
dir_change = irandom(30)+10;
alarm[1] = dir_change;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(x,y, flr);

spawn_mod = instance_number(obj_game_generation);

spawn_chance = irandom(500*(spawn_mod+1));

if spawn_chance = 0 {
   instance_create(x,y, obj_game_generation);
}

rm_chance = irandom(25);

if rm_chance = 0 {
   rm_width = choose(1,2,3);
   rm_height = choose(1,2,3);
   for (i=-rm_width;i&lt;=rm_width;i+=1) {
   for  (j=-rm_height;j&lt;=rm_height;j+=1) {
       instance_create(x+(i*spd),y+(j*spd),flr);
       }
   }
}

x = min(x,room_width-half_width);
x = max(half_width,x);
y = min(y,room_height-half_height);
y = max(half_height,y);

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
